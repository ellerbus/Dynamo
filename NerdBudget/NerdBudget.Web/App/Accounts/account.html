<div class="btn-group btn-breadcrumb">
  <a href="#/accounts" nb-crumb-home></a>
  <a href="#/account/update/{{ vm.account.id }}" nb-crumb ng-bind="vm.account.name"></a>
</div>
<br />
<br />
<div class="row">
  <div class="col-md-6 col-md-offset-3">
    <div class="well well-sm">
      <form name="accountForm" ng-submit="vm.save(vm.account)" novalidate>
        <fieldset>
          <legend class="text-center">{{ vm.action }} Account</legend>
          <p ng-show="!vm.hasData" class="text-center">
            <i class="fa fa-spinner fa-spin"></i> Gathering the requested Account Data ...
          </p>
          <div class="form-horizontal" role="form" ng-show="vm.hasData">

            <div class="form-group alert alert-danger" ng-show="vm.serverErrorSummary.length > 0">
              <ul class="col-sm-offset-4 col-sm-8">
                <li ng-repeat="msg in vm.serverErrorSummary">{{ msg }}</li>
              </ul>
            </div>

            <div class="form-group" ng-show="vm.action != 'create'">
              <label class="col-sm-4 control-label">
                Id
              </label>
              <div class="col-sm-8 form-control-static" ng-bind="vm.account.id"></div>
            </div>

            <div class="form-group" ng-class="{ 'has-error': accountForm.name.$invalid }">
              <label class="col-sm-4 control-label">
                Name
              </label>
              <div class="col-sm-8">
                <input class="form-control" name="name" ng-model="vm.account.name"
                       ng-disabled="vm.action == 'delete'" ng-required="true" ng-maxlength="30" />
                <div class="help-block" ng-messages="accountForm.name.$error">
                  <div ng-message="server">{{ vm.serverErrors.name }}</div>
                  <div ng-message="required">'Name' is required</div>
                  <div ng-message="maxlength">The max length for 'Name' is 30 characters</div>
                </div>
              </div>
            </div>

            <div class="form-group">
              <div class="col-sm-offset-4 col-sm-8">
                <button type="submit" class="btn btn-primary" ng-show="vm.action == 'create'">Create</button>
                <button type="submit" class="btn btn-primary" ng-show="vm.action == 'update'">Update</button>
                <button type="submit" class="btn btn-danger" ng-show="vm.action == 'delete'">Delete</button>
                <a href="#/accounts" class="btn btn-default">Cancel</a>
              </div>
            </div>
          </div>
        </fieldset>
      </form>
    </div>
  </div>
</div>